language: python

python:
  - "2.7"
  
services:
  - docker

branches:
    only:
        - master
  
notifications:
  email: false
  slack: aices-pcm-cfd:ShncJAFCJzx48zt8hrXpRwGw

before_install:
- docker pull zimmerman/fenics-pytest:latest

script:
- ls
- docker run --rm -P -v 'pwd':/home/fenics/shared/phaseflow-fenics -w /home/fenics/shared/phaseflow-fenics zimmerman/fenics-pytest:latest "ls; pytest"
